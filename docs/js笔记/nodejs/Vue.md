# Vue 的学习记录

## 认识Vue



## 名词介绍

### 视图 

*  在Vue当中通过le 获取的文档部分称为模板

### 模型

> 一个网页的核心是数据, html 和css 只是负责将这些数据以较为美观的形式展示Vue可以对页面所承载的数据进行管理, 我们称为Model ,即模型
>
> 实例化Vue对象时, 通过`data ` 可以为`el`所对应的DOM初始数据,其中的数据类型可以为任意合法的javascript数据类型

=={{   }}== 是Vue中的特殊的语法符号  , 用于将  `data` 中的数据插入到视图层元素的内容区域,类似于原生js中的`innerHTML`

### 数据绑定

> 数据绑定是Vue中 非常高级的特性 , 它是将视图层DOM元素与模型中的数据建立一一对应的关系 , 将这种联系称为数据绑定

* DOM元素一般包含**属性节点**和**文本节点** , 所以Vue中实现数据绑定主要体验再两个方面:

**属性节点**的绑定

1. `v-bind:属性名`  是实现属性节点绑定的语法格式.
2. class 和style 是DOM元素中比较重要的两个属性.
3. `v-bind:属性名`可以简写为     `:属性名`
4. 在节点属性中的值可以为  JAVAscript  的表达式

**文本节点**绑定

1. `{{  }}`  是实现文本节点绑定的语法格式
2. `v-text` 一般认为是`{{}}` 的另一种写法,相当于原生DOM中的`innerText` 
3. 文本节点的属性中依旧支持JavaScript

**事件**绑定

1. 事件可以认定为DOM元素的属性 , 如 `<a href ="javascript:;" onclick ="click" > 点击</a>`但是由于其特殊含义Vue中将		它的属性区别对待.
2.  `v-on:事件名="回调函数"` 是为添加事件监听的语法格式

```js
<div id = "app">
    <a href ="javascript:;" v-on:click = "clicked">点击</a>
</div>
```

3. 回调函数定义在Vue实例中的`methods` 中 , 如下:

```js
<script>
  // 实例化
	new Vue({
    el: '#app',
    data: {
      name: '小明'
    },
    // 在此定义的函数，可以充当事件的回调函数
    methods: {
      clicked: function () {
        // 事件被触发时调用
      }
    }
  })
</script>
```

4. 事件 的事件对象在Vue 中是为固定的`$event` 在事件传入时具有特殊意义,,用它来获得事件对象

```js
<div id="app">
  <a href="javascript:;" v-on:click="clicked($event)">点击</a>
</div>

<script>
  // 实例化
	new Vue({
    el: '#app',
    data: {
      name: '小明'
    },
    // 在此定义的函数，可以充当事件的回调函数
    methods: {
      clicked: function (ev) {
        // 事件对象
        console.log(ev);
      }
    }
  })
</script>
```

5. `v-on : 事件名.修饰符 ="回调函数"` 通过添加修饰符来实现事件的特殊处理, 例如事件冒泡等

```js
<div id="app">
  <!-- 嵌套的两个盒子 -->
  <div class="parent" v-on:click="parent">
    <!-- 修饰符 stop 可以阻止冒泡的发生 -->
    <div class="child" v-on:click.stop="child"></div>
  </div>
</div>

<script>
  // 实例化
	new Vue({
    el: '#app',
    data: {},
    // 在此定义的函数，可以充当事件的回调函数
    methods: {
      parent: function () {
        // 执行逻辑
        console.log('父盒子被触发了...');
      },
      child: function () {
        // 执行逻辑
        console.log('子盒子被触发了...');
      }
    }
  })
</script>
```

6. `v-on:事件名="回调函数"`可以简写为`@事件名="回调函数"`

   ​	回调函数不可以带括号

#### **响应式数据绑定**

关于响应式可以理解为一种**自动机制** , 即一方发生改变后, 另一方也相应做出改变, 具体在vue中, 是指当模型(data ) 中的数据发生改变后,所对应的的视图区域也会响应改变, 而这一切又都是自动完成的.

### 双向数据绑定

数据绑定有单项和双向之分, 具体的指数数据的流向

1. 单向 , 模型---> 视图
2. 双向 , 模型<--->视图

表单元素在html中具有特殊意义, 它的主要作用并不是展示数据,更多的填写的数据,因此表单元素也就成为了数据的提供方,通过修改表单的内容,实现模型中的data数据的变化.

为表单元素添加`v-model` 可实现数据的双向绑定.

```js
<div id="app">
  <!-- v-model 是实现数据双向绑定的关键 -->
  <input type="text" v-model="msg" />
  <!-- 用户在表单中输入内容时，下面 h3 的内容会同步更新 -->
  <h3>{{msg}}</h3>
</div>

<script>
	// 实例化
  new Vue({
    el: '#app',
    data: {
      msg: '初始数据'
    }
  })
</script>
```

### 结构

​	动态网站的页面结构是根据数据展示的需要动态创建的 , vue具备动态创建页面结构的能力

1. `v-if`
2. `v-else`
3. `v-else-if`
4. `v-show`

* 列表控制

  1. `v-for`实现对数组/对象类型数据的遍历
  2. `key`管理可复用的元素
     1. Vue会尽可能高效地渲染元素,通常恢复用已有元素而不是从头开始渲染.

  

  ​	当Vue正在更新使用`v-for`渲染的元素列表, 它**默认使用"就地更新"的策略** . 如果数据的顺序改变, Vue将不会移动DOM元素来匹配数据项的顺序,而是就地更新每个元素 , 并且确保它们在每个索引位置正确渲染,

  ​	这个默认的模式是高效的, 但是只使用与不依赖子组件状态或临时DOM状态  的列表渲染输出.

  ​	**建议尽可能在使用v-for时提供key属性**, 书费遍历输出的DOM非常简单, 或者刻意依赖默认行为以获取性能上的提升

  

  

## Vue的指令

> 指令(Directives) 是带有`v-`前缀的特殊属性(属性)

### `v-once`

* `v-once`只渲染元素一次

### `v-cloak`

* `v-cloak`优化用户体验, **避免闪烁现象**

### `v-model`

* `v-model`一般用于获取表单元素中的值,支持修饰符
  * .lazy  取代`input`监听 ,  改为`change`事件
  * `.number`字符串转为有效的数字
  * `trim`首位空格过路

### `v-model`

* 在内部为不通的输入元素使用不通的属性并抛出不通的时间

* text和textarea元素使用`value`属性和`input`事件
* `checkbox` 和`redio`使用`cheacked`属性和`change`事件;
* select字段将`value`作为`prop`并将`change`作为事件.

### 动态参数,`v-on`和`v-bind`支持动态参数绑定



### 计算熟悉感

## Vue的修饰符

### .lazy

默认情况下 , v-model  的绑定数据为积极的, 使用的是input事件 , 但有时候不要这么频繁的更新数据,则使用.lazy修饰符, 把绑定数据的触发方式改为`change`事件, 更新效率变低了, 但不会影响效果,

### .number

使用修饰符,控制input的输入情况, 值接受,number 类型的数据, 故输入字符串,不会更新数据

### .trim

使用修饰符,去除 出入框的接受的字符串两边的空格, 使得接受的数据为正常数据,

如果字符串两边有空格作为字符串的一部分, 有时候会造成不可预料的问题  



## watch 监视器

### 介绍: 

* 监视数据的变化,   并做出相应

### 普通监视功能

在watch  里面世界生命,需要监视的属性即可, 计算属性,或者data静态属性都可以

### 开启深度监视功能

给添加的属性一个传入一个对象, 对象中, 把需要监控的数据

给两个参数 

1. 一个是开启深度监视参数
   * deep : true   默认情况下为true 
2. 一个参数为回调函数
   -  handler :  fun(){}

```js
watch: {
    todos: {
        //deep -->  深度 
        deep: true, 
        //handler --> 操作者  传入一个操作数据的函数 
        handler: todoStorage.save
    }
},
```



## 表单的v-model 属性的双向绑定数据的注意点

### 单选框

v-model 绑定的值为布尔值, 如果为true 的是哦户,单选为选中状态

### 复选框

v-model 绑定的值也是为布尔值, 被绑定的input 多选框, 如果 被绑定的值为布尔值,则会优先的去设置,复选框的`cheacked`状态

但如果是多个复选框组, 绑定了v-model  属性,则会优先的吧复选框中的value属性中的值,会传入到一个数组当中, 即:选中某个input复选框,就把复选框中的value属性中的值传给这个model数组中, 多选即多个数据

### input 输入框

动态的吧input中的输入值,双向的绑定进了data数据中,

原输入框的v-model属性 绑定的时候为input事件 (输入内容即触发数据传递)

input中的v-model属性,有三个修饰符

* lazy : 修饰为,改变事件(改变内容才出发数据传递)
* number : 吧输入的值转为数字,传入data
* trim 把输入的数据,两边的空格,删除之后,传入data



### 下拉选项框

**select--下拉选项框,中的v-model 属性绑定的属性为,option选项中的value值,**

- 如果option 中没有绑定 value 属性,则默认获取到标签内部的文本值, 但一般默认填入value值

```html
<div id="example-5">
  <select v-model="selected">
    <option disabled value="">请选择</option>
    <option>A</option>
    <option>B</option>
    <option>C</option>
  </select>
  <span>Selected: {{ selected }}</span>
</div>
```



# todoMVC

 [官网通道]( http://todomvc.com/ )

- [x] 案例制作初始化

- [x] 页面渲染-

  - [ ] 列表内容渲染
  - [ ] 列表的状态值渲染

- [x] 完成任务的数量状态

- [x] 添加一个便签

- [x] - [ ] 删除

  - [ ] 单击删除一条数据
  - [ ] 删除所有选中(完成数据)
    - [ ] 按钮的显示与隐藏 有选中状态的显示,未有列表选中就不显示按钮
    - [ ] 点击删除俺就,删除所有完成的标签

- [x] 全选按钮

  - [ ] 点击全选,下面列表全部选中,,或者不全选
  - [ ] 下面的标签联动上面的全选按钮

- [ ] 筛选按钮

  - [ ] 默认全部选中状态, 
  - [ ] 点击Active 显示所有未完成的便签
  - [ ] 点击 Completed  显示所有完成的便签,隐藏其他类型的便签

- [x] 编辑

  - [ ] 双击编辑某一便签
    - [ ] 获取双击到的便签
  - [x] 完成编辑
    - [ ] 按下enter键完成编辑
    - [ ] 当input 失去焦点的时候 也保存编辑
    - [ ] 当按下esc键的时候放弃保存状态

